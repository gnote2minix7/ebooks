<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>E-book Purchase â€¢ QR Pay + Telegram</title>
  <meta name="description" content="Pay via QR or Stripe, then message me on Telegram to receive the e-book." />
  <style>
    :root{--bg:#0b0f14;--card:#111827;--text:#e5e7eb;--muted:#9ca3af;--accent:#60a5fa;--ok:#34d399;--warn:#f59e0b;}
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Arial,sans-serif;background:radial-gradient(1200px 600px at 100% -10%,#1f2937 0%,#0b0f14 60%);color:var(--text);}
    .wrap{max-width:760px;margin:0 auto;padding:24px;}
    .card{background:linear-gradient(180deg,#0f172a,#0b1020 50%,#0b0f14);border:1px solid #1f2937;border-radius:20px;box-shadow:0 20px 60px rgba(0,0,0,.35);overflow:hidden}
    header{padding:22px 22px 10px;border-bottom:1px solid #1f2937;display:flex;align-items:center;gap:14px}
    .logo{width:44px;height:44px;border-radius:12px;background:#0ea5e9;display:grid;place-items:center;font-weight:700}
    .logo span{filter:drop-shadow(0 2px 6px rgba(0,0,0,.4));}
    h1{font-size:20px;margin:0}
    .sub{color:var(--muted);font-size:14px;margin-top:2px}
    .body{padding:22px;display:grid;gap:20px}
    .grid{display:grid;grid-template-columns:1fr;gap:18px}
    @media(min-width:720px){.grid{grid-template-columns:1.2fr .8fr}}
    .panel{background:rgba(255,255,255,.02);border:1px solid #1f2937;border-radius:16px;padding:16px}
    .price{font-size:30px;font-weight:800;letter-spacing:.3px}
    .note{color:var(--muted);font-size:14px}
    input[type="email"], select {
      width: 100%;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid #1f2937;
      background: #0b1224;
      color: var(--text);
      margin-top: 10px;
    }
    .steps{display:grid;gap:10px;margin:10px 0 0}
    .step{display:flex;gap:10px;align-items:flex-start}
    .badge{font-variant-numeric:tabular-nums;min-width:26px;height:26px;border-radius:8px;background:#111827;border:1px solid #1f2937;display:grid;place-items:center;color:var(--accent);font-weight:700}
    .qr{display:grid;place-items:center;padding:10px}
    .qr img{width:100%;max-width:300px;border-radius:12px;border:1px solid #1f2937;background:#fff}
    .btns{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
    .btn{appearance:none;border:1px solid #1f2937;background:#0b1224;color:var(--text);padding:10px 14px;border-radius:12px;font-weight:600;cursor:pointer;text-align:center}
    .btn:hover{filter:brightness(1.1)}
    .btn.primary{background:linear-gradient(180deg,#2563eb,#1d4ed8);border-color:#1e40af}
    .btn.success{background:linear-gradient(180deg,#10b981,#059669);border-color:#047857}
    .meta{margin-top:6px;color:var(--muted);font-size:13px}
    footer{padding:14px 22px 22px;color:var(--muted);font-size:12px}
    a{color:var(--accent);text-decoration:none}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <header>
        <div class="logo"><span>ðŸ“š</span></div>
        <div>
          <h1 id="title">Pembayaran Online: <span data-editable="true">ebooks & e-komik</span></h1>
          <div class="sub">Instant delivery via Google Drive after payment confirmation (ePub @ PDF)</div>
        </div>
      </header>

      <div class="body">
        <div class="grid">
          <section class="panel">
            <div class="price">RM <span id="price">10</span></div>
            <p class="note">Masukkan email anda, bayar, kemudian hubungi saya di Telegram untuk dapatkan link.</p>

            <input type="email" id="email" placeholder="Your Email Address" required />

            <div class="steps">
              <div class="step"><div class="badge">1</div><div>Buka app bank anda dan pilih <strong>QR Pay</strong>.</div></div>
              <div class="step"><div class="badge">2</div><div>Scan QR di sebelah kanan dan bayar jumlah tepat.</div></div>
              <div class="step"><div class="badge">3</div><div>Klik <strong>Message on Telegram</strong> dan hantar resit anda.</div></div>
            </div>

            <div class="btns">
              <a id="tgLink" class="btn primary" href="https://t.me/kokombeee" target="_blank" rel="noopener">Message on Telegram</a>
              <button class="btn" id="copyHandle" type="button">Copy Telegram @</button>
              <button class="btn success" id="paidBtn" type="button">Iâ€™ve Paid</button>
            </div>

            <div class="meta">Pembelian 3 e-books dan lebih, dapat 5% diskaun.</div>
          </section>

          <aside class="panel qr">
            <img id="qrImg" src="qr.png" alt="Payment QR Code" />
            <div class="note" style="text-align:center;margin-top:8px">If the QR doesn't load, <a href="#" id="qrOpen">open it</a> in a new tab.</div>

            <!-- Stripe Alternative Payment -->
            <div style="margin-top:14px; display:grid; gap:8px;">
              <a class="btn primary"
                 href="https://buy.stripe.com/cNi28rfiWdkR1fn7hj57W0v"
                 target="_blank" rel="noopener">
                Alternative Payment via Card / GrabPay
              </a>
              <div class="note" style="text-align:center">Powered by Stripe â€¢ Secure checkout</div>
            </div>
          </aside>
        </div>
      </div>

      <footer>
        <div>Need help? Message <a href="https://t.me/kokombeee" target="_blank" rel="noopener">@kokombeee</a>.</div>
        <div style="margin-top:6px">By paying you agree to the no-refund policy for digital goods. Â© <span id="year"></span></div>
      </footer>
    </div>
  </div>

  <script>
    const TELEGRAM_USERNAME = 'kokombeee';
    const PRICE_MYR = '10';
    const QR_SRC = 'qr.png';

    document.getElementById('price').textContent = PRICE_MYR;
    document.getElementById('qrImg').src = QR_SRC;
    document.getElementById('qrOpen').addEventListener('click', (e)=>{
      e.preventDefault(); window.open(QR_SRC, '_blank', 'noopener');
    });

    function composeMessage(){
      const email = (document.getElementById('email')?.value || '').trim();
      const lines = [
        'Hi! I just paid for the e-book.',
        `Amount: RM ${PRICE_MYR}`,
        email ? `Buyer Email: ${email}` : '(email not provided)'
      ];
      return encodeURIComponent(lines.join('\n'));
    }

    document.getElementById('copyHandle').addEventListener('click', async()=>{
      try{await navigator.clipboard.writeText('@' + TELEGRAM_USERNAME); alert('Telegram handle copied!');}
      catch{prompt('Copy this Telegram handle:', '@' + TELEGRAM_USERNAME)}
    });

    document.getElementById('tgLink').addEventListener('click', (e)=>{
      const email = document.getElementById('email').value.trim();
      if(!email){ e.preventDefault(); alert('Please enter your email before continuing.'); return; }
      e.currentTarget.href = `https://t.me/${TELEGRAM_USERNAME}?text=${composeMessage()}`;
    });

    document.getElementById('paidBtn').addEventListener('click', ()=>{
      const email = document.getElementById('email').value.trim();
      if(!email){ alert('Please enter your email before continuing.'); return; }
      window.open(`https://t.me/${TELEGRAM_USERNAME}?text=${composeMessage()}`, '_blank', 'noopener');
    });

    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
